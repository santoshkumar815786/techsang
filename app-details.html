<!DOCTYPE html>

<html class="light" lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Sateek Toolkit - Techsang App</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <!-- Tailwind CSS -->
    <!-- <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script> -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom Theme Configuration Imports -->
    <script src="/src/assets/js/tailwind-config.js"></script>
    <link rel="stylesheet" href="/src/assets/css/global.css" />
</head>

<body
    class="bg-background-light dark:bg-background-dark text-text-main dark:text-white antialiased selection:bg-primary/30">
    <div class="relative flex flex-col min-h-screen">
        <site-header active="apps"></site-header>

        <main class="flex-grow flex flex-col items-center w-full">
            <div class="w-full max-w-5xl px-4 md:px-6 py-4">
                <nav class="flex text-sm text-text-secondary dark:text-gray-400">
                    <a class="hover:text-primary hover:underline" href="/">Home</a>
                    <span class="mx-2">/</span>
                    <a class="hover:text-primary hover:underline" href="/apps">Apps</a>
                    <span class="mx-2">/</span>
                    <span id="breadcrumb-current" class="text-text-main dark:text-white font-medium">Loading...</span>
                </nav>
            </div>

            <div class="w-full max-w-5xl px-4 md:px-6 py-8 md:py-12">
                <div class="flex flex-col md:flex-row gap-8 items-start">
                    <div class="flex-shrink-0 mx-auto md:mx-0">
                        <div
                            class="w-32 h-32 md:w-40 md:h-40 rounded-2xl shadow-soft overflow-hidden bg-white relative group">
                            <img id="app-icon" alt="App Icon" class="w-full h-full object-cover">
                        </div>
                    </div>
                    <div class="flex flex-col flex-grow text-center md:text-left gap-4">
                        <div>
                            <h1 id="app-title"
                                class="text-3xl md:text-4xl font-display font-semibold text-text-main dark:text-white tracking-tight mb-2">
                            </h1>
                            <p class="text-lg text-primary font-medium" id="dev-name">Techsang Apps</p>
                            <div
                                class="flex items-center justify-center md:justify-start gap-4 mt-2 text-sm text-text-secondary dark:text-gray-400">
                                <div class="flex items-center gap-1">
                                    <span class="material-symbols-outlined text-sm">star</span>
                                    <span id="app-rating-reviews"></span>
                                </div>
                                <span>•</span>
                                <div id="app-downloads"></div>
                                <span>•</span>
                                <div class="flex items-center gap-1">
                                    <span class="bg-gray-200 dark:bg-gray-700 text-[10px] px-1 rounded"
                                        id="app-age-rating">E</span>
                                    <span id="app-age-text">Everyone</span>
                                </div>
                            </div>
                        </div>
                        <p id="app-tagline"
                            class="text-text-secondary dark:text-gray-300 max-w-2xl text-base leading-relaxed">
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 mt-2 justify-center md:justify-start">
                            <button id="install-btn"
                                class="flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white h-11 px-8 rounded-lg font-medium transition-all shadow-md active:scale-95 w-full sm:w-auto">
                                <span class="material-symbols-outlined fill">install_mobile</span>
                                <span>Install on Google Play</span>
                            </button>
                            <button onclick="window.navigator.share({url: window.location.href, title: document.title})"
                                class="flex items-center justify-center gap-2 border border-[#dadce0] dark:border-gray-700 hover:bg-background-alt dark:hover:bg-gray-800 text-primary h-11 px-6 rounded-lg font-medium transition-colors w-full sm:w-auto">
                                <span class="material-symbols-outlined">share</span>
                                <span>Share</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="w-full max-w-5xl border-t border-[#dadce0] dark:border-gray-800 my-4"></div>

            <section class="w-full max-w-5xl px-4 md:px-6 py-8">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-text-main dark:text-white">Screenshots</h2>
                </div>
                <div id="screenshot-container"
                    class="flex overflow-x-auto gap-4 pb-8 -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide snap-x">
                </div>
            </section>

            <section
                class="w-full bg-background-alt dark:bg-gray-900/50 py-12 border-t border-[#dadce0] dark:border-gray-800">
                <div class="max-w-5xl mx-auto px-4 md:px-6">
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
                        <div class="lg:col-span-2 space-y-6">
                            <h2 class="text-xl font-semibold text-text-main dark:text-white flex items-center gap-2">
                                About this app
                                <span class="material-symbols-outlined text-primary">arrow_forward</span>
                            </h2>
                            <div id="about-paragraphs" class="text-text-secondary dark:text-gray-300 space-y-4">
                            </div>
                            <!-- <div id="about-paragraphs"
                                class="prose prose-blue prose-lg text-text-secondary dark:text-gray-300">
                            </div>
                            <p class="font-medium text-text-main dark:text-white mt-4">Key Benefits:</p>
                            <ul id="benefits-list" class="list-none pl-0 space-y-3 mt-2">
                            </ul> -->
                        </div>

                        <div class="space-y-6">
                            <h2 class="text-xl font-semibold text-text-main dark:text-white">App Info</h2>
                            <div
                                class="bg-white dark:bg-background-dark rounded-xl border border-gray-200 dark:border-gray-800 p-5 shadow-sm space-y-5">
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-text-secondary">update</span>
                                    <div class="flex flex-col">
                                        <span
                                            class="text-xs font-medium text-text-secondary uppercase tracking-wide">Updated
                                            on</span>
                                        <span id="info-updated"
                                            class="text-sm font-medium text-text-main dark:text-white">--</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-text-secondary">sd_storage</span>
                                    <div class="flex flex-col">
                                        <span
                                            class="text-xs font-medium text-text-secondary uppercase tracking-wide">Download
                                            Size</span>
                                        <span id="info-size"
                                            class="text-sm font-medium text-text-main dark:text-white">--</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-text-secondary">smartphone</span>
                                    <div class="flex flex-col">
                                        <span
                                            class="text-xs font-medium text-text-secondary uppercase tracking-wide">Version</span>
                                        <span id="info-version"
                                            class="text-sm font-medium text-text-main dark:text-white">--</span>
                                    </div>
                                </div>
                                <div class="flex items-center gap-3">
                                    <span class="material-symbols-outlined text-text-secondary">android</span>
                                    <div class="flex flex-col">
                                        <span
                                            class="text-xs font-medium text-text-secondary uppercase tracking-wide">Requires
                                            Android</span>
                                        <span id="info-android"
                                            class="text-sm font-medium text-text-main dark:text-white">--</span>
                                    </div>
                                </div>
                                <div class="border-t border-gray-100 dark:border-gray-800 pt-4 mt-2">
                                    <div class="flex flex-col gap-2">
                                        <!-- <span
                                            class="text-xs font-medium text-text-secondary uppercase tracking-wide">Developer
                                            Contact</span>
                                        <a id="dev-website"
                                            class="flex items-center gap-2 text-sm text-primary hover:underline"
                                            href="/">
                                            <span class="material-symbols-outlined text-[18px]">language</span> Website
                                        </a> -->
                                        <a id="dev-email"
                                            class="flex items-center gap-2 text-sm text-primary hover:underline"
                                            href="#">
                                            <span class="material-symbols-outlined text-[18px]">mail</span>
                                            techsang.official@gmail.com
                                        </a>
                                        <a id="dev-privacy"
                                            class="flex items-center gap-2 text-sm text-primary hover:underline"
                                            href="#">
                                            <span class="material-symbols-outlined text-[18px]">privacy_tip</span>
                                            Privacy Policy
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section class="w-full max-w-5xl px-4 md:px-6 py-12">
                <div class="flex items-center justify-between mb-6">
                    <h2 class="text-xl font-semibold text-text-main dark:text-white">More by Techsang</h2>
                    <a class="text-primary text-sm font-medium hover:underline" href="/apps">See all</a>
                </div>
                <div id="more-apps-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                </div>
            </section>
        </main>

        <site-footer></site-footer>

        <script src="/components/header.js"></script>
        <script src="/components/footer.js"></script>

        <script>
            async function initAppDetails() {
                // 1. Get appId from URL
                const urlParams = new URLSearchParams(window.location.search);
                const appId = urlParams.get('appId');

                if (!appId) {
                    window.location.href = '/apps'; // Redirect if no ID
                    return;
                }

                try {
                    const response = await fetch('/data/apps.json');
                    const data = await response.json();

                    // 2. Find the current app
                    const app = data.apps.find(a => a.id === appId);
                    if (!app) {
                        document.querySelector('main').innerHTML =
                            `<div class="py-20 text-center">App not found.</div>`;
                        return;
                    }

                    // 3. Update Hero & Breadcrumbs
                    document.title = `${app.name} - Techsang Devs`;
                    document.getElementById('breadcrumb-current').textContent = app.name;
                    document.getElementById('app-title').textContent = app.name;
                    document.getElementById('app-icon').src = app.icon.url;
                    document.getElementById('app-rating-reviews').textContent =
                        `${app.rating} • ${app.reviews} Reviews`;
                    document.getElementById('app-downloads').textContent = `${app.downloads} Downloads`;
                    document.getElementById('app-age-text').textContent = app.ageRating;
                    document.getElementById('app-tagline').textContent = app.tagline;
                    document.getElementById('install-btn').onclick = () => window.open(app.urls.playStoreUrl,
                        '_blank');

                    // 4. Render Screenshots
                    const screenContainer = document.getElementById('screenshot-container');
                    screenContainer.innerHTML = app.screenshots.map(src => `
                        <div class="snap-center shrink-0 w-[240px] md:w-[280px] aspect-[9/16] rounded-xl overflow-hidden shadow-soft border border-gray-100 dark:border-gray-800 bg-gray-50 dark:bg-gray-900 group">
                            <div class="w-full h-full bg-cover bg-top transition-transform duration-500 group-hover:scale-105" style="background-image: url('${src}');"></div>
                        </div>
                    `).join('');

                    // 5. Render About & Benefits
                    document.getElementById('about-paragraphs').innerHTML = app.about.html

                    // document.getElementById('benefits-list').innerHTML = app.about.benefits.map(b => `
                    //     <li class="flex items-start gap-3">
                    //         <span class="material-symbols-outlined text-primary mt-0.5">check_circle</span>
                    //         <span>${b}</span>
                    //     </li>
                    // `).join('');

                    // 6. Sidebar App Info
                    document.getElementById('info-updated').textContent = app.info.updatedOn;
                    document.getElementById('info-size').textContent = app.info.size;
                    document.getElementById('info-version').textContent = app.info.version;
                    document.getElementById('info-android').textContent = app.info.android;

                    // 7. Developer Links
                    // document.getElementById('dev-website').href = data.developer.website;
                    document.getElementById('dev-email').href = `mailto:${data.developer.email}`;
                    document.getElementById('dev-email').innerHTML =
                        `<span class="material-symbols-outlined text-[18px]">mail</span> ${data.developer.email}`;
                    document.getElementById('dev-privacy').href = app.urls.privacyPolicy;

                    // 8. Render "More Apps" (Excluding current)
                    const moreApps = data.apps.filter(a => a.id !== appId).slice(0, 3);
                    const moreAppsGrid = document.getElementById('more-apps-grid');

                    moreAppsGrid.innerHTML = moreApps.map(a => `
                        <a class="flex items-start gap-4 p-4 rounded-xl hover:bg-background-alt dark:hover:bg-gray-800 transition-colors group" href="/app-details.html?appId=${a.id}">
                            <div class="w-16 h-16 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center shrink-0 shadow-sm">
                                <span class="material-symbols-outlined text-primary text-3xl">${a.icon.value}</span>
                            </div>
                            <div class="flex flex-col">
                                <h3 class="font-medium text-text-main dark:text-white group-hover:text-primary transition-colors">${a.name}</h3>
                                <p class="text-sm text-text-secondary dark:text-gray-400 line-clamp-2 mt-1">${a.tagline}</p>
                                <div class="flex items-center gap-1 mt-2">
                                    <span class="material-symbols-outlined text-xs text-text-secondary">star</span>
                                    <span class="text-xs text-text-secondary">${a.rating}</span>
                                </div>
                            </div>
                        </a>
                    `).join('');

                } catch (error) {
                    console.error("Error loading app data:", error);
                }
            }

            document.addEventListener('DOMContentLoaded', initAppDetails);
        </script>
    </div>
</body>

</html>